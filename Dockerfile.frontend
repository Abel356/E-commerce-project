FROM node:20-slim

WORKDIR /app

# Copy frontend package files
COPY frontend/package*.json ./frontend/

# Install frontend dependencies
RUN cd frontend && npm ci

# Copy frontend source
COPY frontend ./frontend

EXPOSE 5173

# Run Vite dev server and expose it
CMD ["sh", "-c", "cd frontend && npm run dev -- --host 0.0.0.0 --port 5173"]